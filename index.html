<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Directory</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="./libs/css/style.css">
    <link rel="icon" type="image/png" href="img/favicon.png">
</head>

<body>
    <section>
        <div class="appHeader">
            <div class="row">
                <div class="col">
                    <input id="searchInp" class="form-control mb-3" placeholder="search">
                </div>
                <div class="col-6 text-end me-2">
                    <div class="btn-group" role="group" aria-label="buttons">
                        <button id="refreshBtn" type="button" class="btn btn-primary">
                            <i class="fa-solid fa-refresh fa-fw"></i>
                        </button>
                        <button id="filterBtn" type="button" class="btn btn-primary">
                            <i class="fa-solid fa-filter fa-fw"></i>
                        </button>
                        <button id="addBtn" type="button" class="btn btn-primary" type="button">
                            <i class="fa-solid fa-plus fa-fw"></i>
                        </button>
                    </div>
                </div>
            </div>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="personnelBtn" data-bs-toggle="tab"
                        data-bs-target="#personnel-tab-pane" type="button" role="tab" aria-controls="home-tab-pane"
                        aria-selected="true">
                        <i class="fa-solid fa-person fa-lg fa-fw"></i><span class="d-none d-sm-block">Personnel</span>
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="departmentsBtn" data-bs-toggle="tab"
                        data-bs-target="#departments-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane"
                        aria-selected="false">
                        <i class="fa-solid fa-building fa-lg fa-fw"></i><span
                            class="d-none d-sm-block">Departments</span>
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="locationsBtn" data-bs-toggle="tab" data-bs-target="#locations-tab-pane"
                        type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">
                        <i class="fa-solid fa-map-location-dot fa-lg fa-fw"></i><span
                            class="d-none d-sm-block">Locations</span>
                    </button>
                </li>

            </ul>
        </div>
        <div class="tab-content bg-white">
            <div class="tab-pane show active" id="personnel-tab-pane" role="tabpanel" aria-labelledby="home-tab"
                tabindex="0">
                <table class="table table-hover" id="personnelTable"></table>
            </div>
            <div class="tab-pane" id="departments-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                <table class="table table-hover" id="departmentTable"></table>
            </div>
            <div class="tab-pane" id="locations-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
                <table class="table table-hover" id="locationTable"></table>
            </div>
        </div>
        <footer class="border-top text-center fw-bold">
            <p class="fw-light my-3">Company Directory version 1.0</p>
        </footer>
    </section>
    <!-- Personal Filter -->
    <div class="modal fade" id="filterPersonnelModal" tabindex="-1" role="dialog"
    aria-labelledby="filterModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content shadow">
            <div class="modal-header bg-primary bg-gradient text-white">
                <h5 class="modal-title">Filter Employees</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-floating mb-3">
                    <select class="form-select" id="filterPersonnelByDepartment"
                        placeholder="Department">
                        <option value="">All</option>
                    </select>
                    <label for="filterPersonnelByDepartment">Department</label>
                </div>
                <div class="form-floating">
                    <select class="form-select" id="filterPersonnelByLocation"
                        placeholder="Location">
                        <option value="">All</option>
                    </select>
                    <label for="filterPersonnelByLocation">Location</label>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!-- Department Filter -->
    <div class="modal fade" id="filterDepartmentModal" tabindex="-1" role="dialog"
        aria-labelledby="filterModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Filter Department</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- <div class="form-floating mb-3">
                        <select class="form-select personal-grouped-input" id="filterPersonnelByDepartment" placeholder="Department">
                            <option value="">All</option>
                        </select>
                        <label for="filterPersonnelByDepartment">Department</label>
                    </div> -->
                    <div class="form-floating">
                        <select class="form-select personal-grouped-input" id="filterDepartmentByLocation"
                            placeholder="Location">
                            <option value="">All</option>
                        </select>
                        <label for="filterDepartmentByLocation">Location</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="addPersonnelModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Add Personnel</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="insertPersonal" class="insertPersonal form" method="post">
                    <div class="modal-body">
                        <input type="text" name="perid" value="0" hidden>
                        <div class="form-floating mb-3">
                            <input type="text" required class="form-control" name="fname" aria-describedby="emailHelp">
                            <label>First name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" required name="lname" class="form-control">
                            <label>Last name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <select required name="department" id="addinfo-department"
                                class="form-select addinfo-department">
                            </select>
                            <label>Department</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input required type="email" name="email" class="form-control">
                            <label>Email</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-outline-primary btn-sm myBtn">SAVE</button>
                        <button type="button" class="btn btn-outline-primary btn-sm myBtn"
                            data-bs-dismiss="modal">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="addDepartmentModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Add Department</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="addDepartment" class="p-3 addDepartment" method="post">
                    <div class="modal-body">
                        <input type="text" name="depid" value="0" hidden>
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" aria-describedby="emailHelp" name="name" required>
                            <label>Department name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <select required name="location" id="adddepartment-location"
                                class="form-select adddepartment-location">
                            </select>
                            <label>Location</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-outline-primary btn-sm myBtn">SAVE</button>
                        <button type="button" class="btn btn-outline-primary btn-sm myBtn"
                            data-bs-dismiss="modal">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="addLocationModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Add Location</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="addlocationForm" class="p-3 addlocationForm" method="post">
                    <div class="modal-body">
                        <input type="text" name="locid" value="0" hidden>
                        <div class="form-floating mb-3">
                            <input type="text" name="city" required class="form-control" i aria-describedby="emailHelp">
                            <label>City</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-outline-primary btn-sm myBtn">SAVE</button>
                        <button type="button" class="btn btn-outline-primary btn-sm myBtn"
                            data-bs-dismiss="modal">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="editPersonnelModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Edit employee</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editPersonnelFormm" class="insertPersonal">
                        <input type="hidden" id="editPersonnelEmployeeID" name="perid">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" name="fname" id="editPersonnelFirstName"
                                placeholder="First name" required>
                            <label for="editPersonnelFirstName">First name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" name="lname" id="editPersonnelLastName"
                                placeholder="Last name" required>
                            <label for="editPersonnelLastName">Last name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" name="email" id="editPersonnelEmailAddress"
                                placeholder="Email Address" required>
                            <label for="editPersonnelEmailAddress">Email Address</label>
                        </div>
                        <div class="form-floating">
                            <select class="form-select addinfo-department" name="department"
                                id="editPersonnelDepartment"></select>
                            <label for="editPersonnelDepartment">Department</label>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-outline-primary btn-sm myBtn">SAVE</button>
                            <button type="button" class="btn btn-outline-primary btn-sm myBtn"
                                data-bs-dismiss="modal">CANCEL</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="updateDepartmentModal" class="modal fade" tabindex="-1" role="dialog"
        aria-labelledby="updateDepartmentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Edit Department</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="updateDepartmentFormm" class="addDepartment">
                    <input type="hidden" id="updateDepartmentID" name="depid">
                    <div class="modal-body">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="updateDepartmentName" name="name"
                                placeholder="Department Name" required>
                            <label for="updateDepartmentName">Department Name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <select class="form-select adddepartment-location" id="updateDepartmentLocation"
                                name="location" placeholder="Location"></select>
                            <label for="updateDepartmentLocation">Location</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-outline-primary btn-sm myBtn">SAVE</button>
                        <button type="button" class="btn btn-outline-primary btn-sm myBtn"
                            data-bs-dismiss="modal">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="updateLocationModal" class="modal fade" tabindex="-1" role="dialog"
        aria-labelledby="updateLocationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title">Edit Location</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="updateLocationFormm" action="./libs/php/location.php" class="p-3 addlocationForm"
                    method="post">
                    <div class="modal-body">
                        <input type="text" id="updateLocationID" name="locid" hidden>
                        <div class="form-floating mb-3">
                            <input type="text" id="updateLocationCity" required class="form-control" name="city"
                                aria-describedby="emailHelp">
                            <label for="updateLocationCity">City</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="deletePersonnelModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Delete Member</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure that you want to remove the entry for <span id="areYouSurePersonnelName"
                            class="fw-bold"></span>?</p>
                    <input type="text" hidden class="form-control" name="pdelid" id="pdelid">
                </div>
                <div class="modal-footer">
                    <button type="button" id="deletePersonalBtn" class="btn btn-outline-secondary btn-sm myBtn">Yes</button>
                    <button type="button" class="btn btn-outline-secondary btn-sm myBtn"
                        data-bs-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
    <div id="deleteDepartmentModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Remove department?</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure that you want to remove the entry for <b><span
                                id="deleteDepartmentName"></span></b>?</p>
                    <input type="text" class="form-control" hidden name="Ddelid" id="Ddelid">
                </div>
                <div class="modal-footer">
                    <button type="button" id="deleteDptBtn" class="btn btn-outline-secondary btn-sm">Yes</button>
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
    <div id="deleteDepartmentWarningModal" class="modal fade" tabindex="-1" data-bs-backdrop="false"
        data-bs-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Cannot remove department ...</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    You cannot remove the entry for <b><span id="warnignDptName"></span></b> because it has <b><span
                            id="departmentEmpCount"></span></b> employees assigned to it.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="deleteLocationModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" data-bs-keyboard="false"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h1 class="modal-title fs-5" id="">Remove location?</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure that you want to remove the entry for <b><span id="deleteLocationName"></span></b>?
                    </p>
                    <input type="text" class="form-control" hidden name="Ldelid" id="Ldelid">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">No</button>
                    <button type="button" id="deleteLocBtn" class="btn btn-outline-secondary btn-sm">Yes</button>
                </div>
            </div>
        </div>
    </div>
    <div id="deleteLocationWarningModal" class="modal fade" tabindex="-1" data-bs-backdrop="false"
        data-bs-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Cannot remove location ...</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    You cannot remove the entry for because it has <b><span
                            id="locationDepartmentCountWarning"></span></b> departments assigned to it.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.1/js/bootstrap.min.js"></script>
    <script src="./libs/js/script.js"></script>
</body>

</html>
